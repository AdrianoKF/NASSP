
<THERMIC> 
	<RESOLUTION>	 1	 	 # number of patches per side of the hull
    <CONDUCTIVE>	 NO      # perform conductive computations. very expensive !!
	<RADIATIVE>      YES     # perform radiative computations. 
    <HEATCAPACITY>   0.15	 # J/gK ..aluminium
	<CONDUCTIVITY>   24      # J/sm ..k-conductive capacity
    <REFLECTIVITY>   0.39    # reflective capacity.dimensionless
    <RADIATIVITY>    0.39    # radiative capacity. dimensionless.
    <HULLMASS>       3477    # kg of hull mass
</THERMIC>

<HYDRAULIC>  

	# Cryo tanks
	<TANK> O2TANK1 <0.5 1.0 -6.0> 102.0 0.0000001  			
    	CHM   0 145149 0.0 18180000.0
    	VALVE IN  1 0.0000001
        VALVE OUT 1 0.0000001
    </TANK> 

	<TANK> O2TANK2 <0.5 1.0 -5.0> 102.0 0.0000001  			
    	CHM   0 145149 0.0 18180000.0
    	VALVE IN  1 0.0000001
        VALVE OUT 1 0.0000001
    </TANK> 

	<TANK> H2TANK1 <0.5 -1.0 -6.0> 168.9 0.0000001  			
    	CHM   1 12700.0 0.0 2470000.0
    	VALVE IN  1 0.000001
        VALVE OUT 1 0.000001
    </TANK> 

	<TANK> H2TANK2 <0.5 -1.0 -5.0> 168.9 0.0000001  			
    	CHM   1 12700.0 0.0 2470000.0
    	VALVE IN  1 0.000001
        VALVE OUT 1 0.000001
    </TANK> 


	# Fuel cell supply
	<TANK> O2FUELCELLMANIFOLD <0.0 0.5 -4.0> 0.1 0.0000001
        VALVE IN  1 0.0000001
        VALVE OUT 1 0.0000001
	</TANK>
	
	<TANK> H2FUELCELLMANIFOLD <0.0 -0.5 -4.0> 1.0 0.0000001
        VALVE IN  1 0.0000001
        VALVE OUT 1 0.0000001
	</TANK>


	# Suit/cabin
	<TANK> CABIN <0.0 0.0 0.5> 6170.0 0.001 			 # 6.17 m3 @300K/5psi: 100% O2 (5.947 m3 ??? CM News Reference)
        CHM   0 8105.1 8105.0 4017500.0					 # 8095.1 8095.0 4012500.0		
    	VALVE IN   1 0.1								 
    	VALVE OUT  1 0.3								 # to SUITCIRCUITRETURNVALVE
    	VALVE LEAK 1 0.001								 # to VENT
    </TANK>

	<TANK> SUIT <0.0 0.0 1.0> 1000.0 0.001 			 
    	CHM   0 1395.1 1395.0 660275.0					 # 470.1 470.0 232630.0
    	VALVE IN  1 0.1									 # from SUITCOMPRESSORCO2ABSORBER
    	VALVE OUT 1 2.0									 # to SUITCIRCUITRETURNVALVE
    </TANK>    
    
	<CREW> CREW 3 SUIT
	
	<TANK> SUITCIRCUITRETURNVALVE <0.0 0.0 1.0> 1000.0 0.001 			 
    	CHM   0 1395.1 1395.0 660275.0					# 435.1 435.0 215740.0
    	VALVE IN   1 0.005
    	VALVE OUT  1 0.1								# to SUITCOMPRESSORCO2ABSORBER
    	VALVE LEAK 0 0.08								# to VENT
    </TANK>    
		
	<TANK> O2SURGETANK <-1.0 0.0 -3.0> 1.188 0.0000001  			
    	CHM   0 1678.292 0.0 210216.6588
    	VALVE IN  0 0.0000001
        VALVE OUT 0 0.0000001
    </TANK> 
    
	<TANK> O2SMSUPPLY <1.3 0.8 -3.0> 10.0 0.001 			 
		CHM   0 200.1 200.0 127000.0
        VALVE IN  1 0.0000001
        VALVE OUT 1 0.01
	</TANK>

	<TANK> O2MAINREGULATOR <1.3 0.8 -1.0> 15.0 0.001 			
		CHM   0 200.1 200.0 110000.0							 
        VALVE IN   1 0.1								
        VALVE OUT  1 0.1								# CABINPRESSUREREGULATOR
        VALVE OUT2 0 0.1								# O2DEMANDREGULATOR
        VALVE LEAK 0 0.00002							# DIRECTO2VALVE
	</TANK>


    <VENT> CABINRELIEFVALVE 1 1 0 0 				                
         <0.0 10.0 0.0> <0.0 1.0 0.0> 0.001		
    </VENT>


    <PIPE>  
        O2TANK1:OUT 	  				O2SMSUPPLY:IN 				PREG 1378952      0.0 ONEWAY			# 200 psi
        O2TANK2:OUT 	  				O2SMSUPPLY:IN 				PREG 1378952      0.0 ONEWAY			# 200 psi
        O2SMSUPPLY:OUT 					O2MAINREGULATOR:IN  		PREG  689476      0.0 ONEWAY			# 100 psi
        CABIN:LEAK						CABINRELIEFVALVE:IN			ONEWAY
        SUIT:OUT 						SUITCIRCUITRETURNVALVE:IN											
        SUITCIRCUITRETURNVALVE:LEAK		CABINRELIEFVALVE:IN			ONEWAY
        O2TANK1:IN          			O2FUELCELLMANIFOLD:IN		ONEWAY
        O2TANK2:IN          			O2FUELCELLMANIFOLD:IN		ONEWAY
        H2TANK1:IN          			H2FUELCELLMANIFOLD:IN		ONEWAY
        H2TANK2:IN          			H2FUELCELLMANIFOLD:IN		ONEWAY       
    </PIPE>

	<PIPE> SUITCIRCUITRETURNINLET
        CABIN:OUT 						SUITCIRCUITRETURNVALVE:IN	PREG   34129.062  0.0       			# 4.95 psi
	</PIPE>
    
	<PIPE> CABINPRESSUREREGULATOR
        O2MAINREGULATOR:OUT 			CABIN:IN   					PREG   34473.8    0.0 ONEWAY			# 5 psi
	</PIPE>
		
	<PIPE> O2DEMANDREGULATOR
        O2MAINREGULATOR:OUT2 			SUITCIRCUITRETURNVALVE:IN	PREG   34129.062  0.0 ONEWAY			# 4.95 psi
    </PIPE>

	<PIPE> DIRECTO2VALVE
        O2MAINREGULATOR:LEAK 			SUITCIRCUITRETURNVALVE:IN	ONEWAY			
    </PIPE>

			
	# Fuel cell radiators
    <RADIATOR> FUELCELLRADIATOR1 <2.0 0.0 -4.0> 270.0
 		0.2 6.8 10000
    </RADIATOR>

    <RADIATOR> FUELCELLRADIATOR2 <0.0 2.0 -4.0> 270.0
 		0.2 6.8 10000
    </RADIATOR>

    <RADIATOR> FUELCELLRADIATOR3 <-2.0 0.0 -4.0> 270.0
 		0.2 6.8 10000
    </RADIATOR>

    <RADIATOR> FUELCELLRADIATOR4 <0.0 -2.0 -4.0> 270.0
 		0.2 6.8 10000
    </RADIATOR>


	# Water tanks
    <TANK> POTABLEH2OTANK <0.0 0.0 -1.0> 16.0 0.001			
    	CHM   2 5000.0 0.0 4000000.0
        VALVE IN  1 0.001
        VALVE OUT 1 0.001     	
    </TANK>
    
    <TANK> WASTEH2OTANK <0.0 0.0 -1.0> 26.5 0.001			
    	CHM   2 20000.0 0.0 24000000.0
        VALVE IN  1 0.001
        VALVE OUT 1 0.001     	
    </TANK>

    <PIPE>
    	POTABLEH2OTANK:OUT  		WASTEH2OTANK:IN				BURST	13789.52 6894.76 ONEWAY		# 2 psi, 1 psi
    </PIPE>


	# ECS radiators
	<RADIATOR> ECSRADIATOR1 <0.0  1.0 0.0> 270.0
		18.0 5.0 10000
	</RADIATOR>

	<RADIATOR> ECSRADIATOR2 <0.0 -1.0 0.0> 270.0
		18.0 5.0 10000
	</RADIATOR>
	

    # Primary water-glycol coolant loop   
	<TANK> PRIMGLYCOLACCUMULATOR <0.0 0.0 -1.0> 10.0 0.001
    	CHM   2 20000.0 0.0 24000000.0
        VALVE IN   1 0.1								
        VALVE OUT  1 0.1    	
    </TANK>
    
	<TANK> PRIMRADIATORINLET <0.0 0.0 -1.0> 10.0 0.001  			
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0003 	
    </TANK>

	<TANK> PRIMRADIATOROUTLET <0.0 0.0 -1.0> 1.0 0.001  			
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0003 	
    </TANK>

	<TANK> PRIMEVAPORATORINLET <0.0 0.0 -1.0> 1.0 0.001  			
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0005 	
    </TANK>

	<TANK> PRIMEVAPORATOROUTLET <0.0 0.0 -1.0> 1.0 0.001  			
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0005 	
    </TANK>
    
    <PIPE>
    	PRIMRADIATORINLET:OUT		PRIMRADIATOROUTLET:IN		ONEWAY
    	PRIMEVAPORATORINLET:OUT		PRIMEVAPORATOROUTLET:IN		ONEWAY
    	PRIMEVAPORATOROUTLET:OUT	PRIMGLYCOLACCUMULATOR:IN	ONEWAY
    </PIPE>
            
    <HEATEXCHANGER> PRIMECSRADIATOREXCHANGER1     -1    10.0 PRIMRADIATOROUTLET       ECSRADIATOR1 			      0     0
    <HEATEXCHANGER> PRIMECSRADIATOREXCHANGER2     -1    10.0 PRIMRADIATOROUTLET       ECSRADIATOR2 			      0     0
    <HEATEXCHANGER> PRIMSUITHEATEXCHANGER	       1     5.0 PRIMGLYCOLACCUMULATOR    SUIT  					283.0 284.0
    <HEATEXCHANGER> PRIMSUITCIRCUITHEATEXCHANGER   1     5.0 PRIMGLYCOLACCUMULATOR    SUITCIRCUITRETURNVALVE 	283.0 284.0
    <HEATEXCHANGER> PRIMCABINHEATEXCHANGER     	   1     5.0 PRIMGLYCOLACCUMULATOR    CABIN 					297.0 297.5

    <MIXINGPIPE> PRIMGLYCOLEVAPINLETTEMPVALVE 1 PRIMRADIATORINLET:OUT PRIMRADIATOROUTLET:OUT PRIMEVAPORATORINLET:IN 280.0

    <EVAPORATOR> PRIMEVAPORATOR 1 PRIMEVAPORATOROUTLET 278.0 WASTEH2OTANK:OUT 282.0 PRIMEVAPORATORINLET
    
    
    # Secondary water-glycol coolant loop     
	<TANK> SECGLYCOLACCUMULATOR <0.0 0.0 -1.0> 10.0 0.001
    	CHM   2 5500.0 0.0 6500000.0 
        VALVE IN   1 0.1								
        VALVE OUT  1 0.1    	
    </TANK>
    
	<TANK> SECRADIATORINLET <0.0 0.0 -1.0> 10.0 0.001  			
        CHM   2 11500.0 0.0 14000000.0
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0003 	
    </TANK>

	<TANK> SECRADIATOROUTLET <0.0 0.0 -1.0> 1.0 0.001  			
        CHM   2 1100.0 0.0 1300000.0 
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0003 	
    </TANK>

	<TANK> SECEVAPORATORINLET <0.0 0.0 -1.0> 1.0 0.001  			
        CHM   2 900.0 0.0 1000000.0
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0005 	
    </TANK>

	<TANK> SECEVAPORATOROUTLET <0.0 0.0 -1.0> 1.0 0.001  			
        CHM   2 800.0 0.0 930000.0
        VALVE IN   1 0.1								
        VALVE OUT  1 0.0005 	
    </TANK>
    
    <PIPE>
    	SECRADIATORINLET:OUT		SECRADIATOROUTLET:IN		ONEWAY
    	SECRADIATOROUTLET:OUT		SECEVAPORATORINLET:IN		ONEWAY
    	SECEVAPORATORINLET:OUT		SECEVAPORATOROUTLET:IN		ONEWAY
    	SECEVAPORATOROUTLET:OUT		SECGLYCOLACCUMULATOR:IN		ONEWAY
    </PIPE>
            
    <HEATEXCHANGER> SECECSRADIATOREXCHANGER1     -1 10.0 SECRADIATOROUTLET      ECSRADIATOR1 			  0     0
    <HEATEXCHANGER> SECECSRADIATOREXCHANGER2     -1 10.0 SECRADIATOROUTLET      ECSRADIATOR2 			  0     0
    <HEATEXCHANGER> SECCABINHEATEXCHANGER     	  1  5.0 SECGLYCOLACCUMULATOR	CABIN 					297.0 297.5
    <HEATEXCHANGER> SECSUITHEATEXCHANGER	      1  5.0 SECGLYCOLACCUMULATOR 	SUIT  					283.0 284.0
    <HEATEXCHANGER> SECSUITCIRCUITHEATEXCHANGER   1  5.0 SECGLYCOLACCUMULATOR 	SUITCIRCUITRETURNVALVE 	283.0 284.0

    <EVAPORATOR> SECEVAPORATOR 0 SECEVAPORATOROUTLET 278.0 WASTEH2OTANK:OUT 282.0 SECEVAPORATORINLET
    
</HYDRAULIC>

<ELECTRIC>
	<BATTERY> BATTERY_A 4176000000.0 37.2 0.0 NOPOWER						# Original 4176000.0
	<BATTERY> BATTERY_B 5508000 37.2 0.234 NOPOWER
	<BATTERY> BATTERY_C 5508000 37.2 0.234 NOPOWER

	<BATTERY> BATTERY_PYRO_A 100440 37.2 0.189 NOPOWER
	<BATTERY> BATTERY_PYRO_B 100440 37.2 0.189 NOPOWER

	<FCELL> FUELCELL1 0 <1.0  0.0 -4.0> 60.0 O2FUELCELLMANIFOLD:OUT H2FUELCELLMANIFOLD:OUT POTABLEH2OTANK:IN	
	<FCELL> FUELCELL2 0 <0.0  1.0 -4.0> 60.0 O2FUELCELLMANIFOLD:OUT H2FUELCELLMANIFOLD:OUT POTABLEH2OTANK:IN	
	<FCELL> FUELCELL3 0 <0.0 -1.0 -4.0> 60.0 O2FUELCELLMANIFOLD:OUT H2FUELCELLMANIFOLD:OUT POTABLEH2OTANK:IN	
	
	<DCBUS> DC_A BATTERY_A
	<DCBUS> DC_B BATTERY_A								

	<ACBUS> AC_A 115.0 DC_A
	<ACBUS> AC_B 115.0 DC_B

	# Cryo heaters
	<BOILER> O2TANK1HEATER 	  1 AC_A  122.0 PRESS 5963967.4	6446600.6 HYDRAULIC:O2TANK1		# 865 - 935 psi
	<BOILER> O2TANK2HEATER 	  1 AC_A  122.0 PRESS 5963967.4	6446600.6 HYDRAULIC:O2TANK2
	<BOILER> O2TANK1FAN       1 AC_A   53.0 PRESS 5963967.4	6446600.6 HYDRAULIC:O2TANK1
	<BOILER> O2TANK2FAN       1 AC_A   53.0 PRESS 5963967.4	6446600.6 HYDRAULIC:O2TANK2
	<BOILER> H2TANK1HEATER 	  1 AC_A   21.0 PRESS 1551321.0	1792637.6 HYDRAULIC:H2TANK1		# 225 - 260 psi
	<BOILER> H2TANK2HEATER 	  1 AC_A   21.0 PRESS 1551321.0	1792637.6 HYDRAULIC:H2TANK2		
	<BOILER> H2TANK1FAN		  1 AC_A    7.0 PRESS 1551321.0	1792637.6 HYDRAULIC:H2TANK1		
	<BOILER> H2TANK2FAN		  1 AC_A    7.0 PRESS 1551321.0	1792637.6 HYDRAULIC:H2TANK2
	
	# Fuel cell heaters
	<BOILER> FUELCELL1HEATER  1 AC_A  100.0 TEMP      470.0     472.0 ELECTRIC:FUELCELL1			
	<BOILER> FUELCELL2HEATER  1 AC_A  100.0 TEMP      470.0     472.0 ELECTRIC:FUELCELL2			
	<BOILER> FUELCELL3HEATER  1 AC_A  100.0 TEMP      470.0     472.0 ELECTRIC:FUELCELL3			
	
	# ECS heaters	
	<BOILER> O2SMSUPPLYHEATER 		1 AC_A   1000.0 TEMP 400.0 400.0 	HYDRAULIC:O2SMSUPPLY			
	<BOILER> PRIMECSRADIATORSHEATER	1 AC_A   8000.0 TEMP 247.0 250.0	HYDRAULIC:PRIMRADIATOROUTLET	
	<BOILER> SECECSRADIATORSHEATER	0 AC_A   8000.0 TEMP 280.0 282.0	HYDRAULIC:SECRADIATOROUTLET	

	# ECS testing stuff
    <BOILER> CABINHEATER			1 AC_A 	 30.0   TEMP 296.0 297.0  	HYDRAULIC:CABIN 					
    <BOILER> SUITHEATER		        1 AC_A 	 30.0	TEMP 282.0 283.0 	HYDRAULIC:SUIT  					
    <BOILER> SUITCIRCUITHEATER      1 AC_A 	 30.0	TEMP 282.0 283.0 	HYDRAULIC:SUITCIRCUITRETURNVALVE 	

	<BOILER> ECSTESTHEATER1		   -1 AC_A   800.0  TEMP   0 	 0		HYDRAULIC:PRIMRADIATORINLET		
	<BOILER> ECSTESTHEATER2		   -1 AC_A   800.0  TEMP   0 	 0		HYDRAULIC:PRIMRADIATORINLET
	<BOILER> ECSTESTHEATER3		   -1 AC_A   800.0  TEMP   0 	 0		HYDRAULIC:PRIMRADIATORINLET
	<BOILER> ECSTESTHEATER4		    0 AC_A   800.0  TEMP   0 	 0		HYDRAULIC:PRIMRADIATORINLET
	<BOILER> ECSTESTHEATER5			0 AC_A   800.0  TEMP   0 	 0		HYDRAULIC:PRIMRADIATORINLET
	<BOILER> ECSTESTHEATER6			0 AC_A   800.0  TEMP   0 	 0		HYDRAULIC:PRIMRADIATORINLET
	<BOILER> ECSTESTHEATER7		    0 AC_A  1000.0  TEMP   0 	 0		HYDRAULIC:SECRADIATORINLET

	# ECS devices
	<PUMP>     PRIMGLYCOLPUMP			 1    DC_B 250000.0 PRIMGLYCOLACCUMULATOR:OUT 		PRIMRADIATORINLET:IN
	<PUMP>     SECGLYCOLPUMP			 0    DC_B 250000.0 SECGLYCOLACCUMULATOR:OUT 		SECRADIATORINLET:IN
	<ATMREGEN> SUITCOMPRESSORCO2ABSORBER 0 -1 DC_B  65000.0 SUITCIRCUITRETURNVALVE:OUT		SUIT:IN 				WASTEH2OTANK:IN

	# Fuel cell cooling
	<COOLING> FUELCELL1COOLING 1 DC_A 0.7 470.0 505.0
		ELECTRIC:FUELCELL1			10.0
		HYDRAULIC:FUELCELLRADIATOR1	10.0
		HYDRAULIC:FUELCELLRADIATOR2	10.0
		HYDRAULIC:FUELCELLRADIATOR3	10.0
		HYDRAULIC:FUELCELLRADIATOR4	10.0
	</COOLING>

	<COOLING> FUELCELL2COOLING 1 DC_A 0.7 470.0 505.0
		ELECTRIC:FUELCELL2			10.0
		HYDRAULIC:FUELCELLRADIATOR1	10.0
		HYDRAULIC:FUELCELLRADIATOR2	10.0
		HYDRAULIC:FUELCELLRADIATOR3	10.0
		HYDRAULIC:FUELCELLRADIATOR4	10.0
	</COOLING>

	<COOLING> FUELCELL3COOLING 1 DC_A 0.7 470.0 505.0
		ELECTRIC:FUELCELL3			10.0
		HYDRAULIC:FUELCELLRADIATOR1	10.0
		HYDRAULIC:FUELCELLRADIATOR2	10.0
		HYDRAULIC:FUELCELLRADIATOR3	10.0
		HYDRAULIC:FUELCELLRADIATOR4	10.0
	</COOLING>
</ELECTRIC>
